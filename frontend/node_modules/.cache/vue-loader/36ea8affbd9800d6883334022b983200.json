{"remainingRequest":"/home/kounta/pdl_TraitementImage/frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/kounta/pdl_TraitementImage/frontend/src/components/HelloWorld.vue?vue&type=style&index=0&id=3672bb98&scoped=true&lang=css","dependencies":[{"path":"/home/kounta/pdl_TraitementImage/frontend/src/components/HelloWorld.vue","mtime":1616799507488},{"path":"/home/kounta/pdl_TraitementImage/frontend/node_modules/css-loader/dist/cjs.js","mtime":1616606874442},{"path":"/home/kounta/pdl_TraitementImage/frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":1616606872586},{"path":"/home/kounta/pdl_TraitementImage/frontend/node_modules/postcss-loader/src/index.js","mtime":1616606883070},{"path":"/home/kounta/pdl_TraitementImage/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1616606873514},{"path":"/home/kounta/pdl_TraitementImage/frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1616606872582}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmgzIHsKICBtYXJnaW46IDQwcHggMCAwOwp9CnVsIHsKICBsaXN0LXN0eWxlLXR5cGU6IG5vbmU7CiAgcGFkZGluZzogMDsKfQpsaSB7CiAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogIG1hcmdpbjogMCAxMHB4Owp9CmEgewogIGNvbG9yOiAjNDJiOTgzOwp9Cg=="},{"version":3,"sources":["/home/kounta/pdl_TraitementImage/frontend/src/components/HelloWorld.vue"],"names":[],"mappings":";AAqLA,CAAC,EAAE;EACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;AAClB;AACA,CAAC,EAAE;EACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACrB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;AACZ;AACA,CAAC,EAAE;EACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACrB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;AAChB;AACA,EAAE;EACA,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAChB","file":"/home/kounta/pdl_TraitementImage/frontend/src/components/HelloWorld.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"hello\">\n    <h1>{{ msg }}</h1>\n    <button class=\"Search__button\" @click=\"mounted()\">Choose an image</button>\n    \n    <select id=\"liste\" @change=\"mselect()\">\n      <option> </option>\n           <option v-for=\"values in response\" :key=\"values.id\" :values=\"values.id\"> {{values}} </option>\n        </select>\n      <br/><br/>\n        <img alt=\"\" id=\"val\"/><br/><br/>\n        <button class=\"Search__button\" @click=\"deleted()\">Delete</button>\n        <button class=\"Search__button\" @click=\"download()\">Download</button>\n        <h3>{{res}}</h3>\n        <button class=\"Search__button\" @click=\"callRestService()\">Gallery</button>\n      <br/><br/>\n      \n      <div class=\"container\">\n        <div class=\"large-12 medium-12 small-12 cell\">\n          <label>File\n            <input type=\"file\" id=\"file\" ref=\"file\" v-on:change=\"handleFileUpload()\"/>\n          </label>\n            <button v-on:click=\"submitFile()\">Submit</button>\n        </div>\n      </div>\n    <p>\n      For a guide and recipes on how to configure / customize this project,<br>\n      check out the\n      <a href=\"https://cli.vuejs.org\" target=\"_blank\" rel=\"noopener\">vue-cli documentation</a>.\n    </p>\n    <h3>Installed CLI Plugins</h3>\n    <ul>\n      <li><a href=\"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-babel\" target=\"_blank\" rel=\"noopener\">babel</a></li>\n      <li><a href=\"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-router\" target=\"_blank\" rel=\"noopener\">router</a></li>\n      <li><a href=\"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-eslint\" target=\"_blank\" rel=\"noopener\">eslint</a></li>\n      <li><a href=\"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-unit-jest\" target=\"_blank\" rel=\"noopener\">unit-jest</a></li>\n      <li><a href=\"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-e2e-nightwatch\" target=\"_blank\" rel=\"noopener\">e2e-nightwatch</a></li>\n    </ul>\n    <h3>Essential Links</h3>\n    <ul>\n      <li><a href=\"https://vuejs.org\" target=\"_blank\" rel=\"noopener\">Core Docs</a></li>\n      <li><a href=\"https://forum.vuejs.org\" target=\"_blank\" rel=\"noopener\">Forum</a></li>\n      <li><a href=\"https://chat.vuejs.org\" target=\"_blank\" rel=\"noopener\">Community Chat</a></li>\n      <li><a href=\"https://twitter.com/vuejs\" target=\"_blank\" rel=\"noopener\">Twitter</a></li>\n      <li><a href=\"https://news.vuejs.org\" target=\"_blank\" rel=\"noopener\">News</a></li>\n    </ul>\n    <h3>Ecosystem</h3>\n    <ul>\n      <li><a href=\"https://router.vuejs.org\" target=\"_blank\" rel=\"noopener\">vue-router</a></li>\n      <li><a href=\"https://vuex.vuejs.org\" target=\"_blank\" rel=\"noopener\">vuex</a></li>\n      <li><a href=\"https://github.com/vuejs/vue-devtools#vue-devtools\" target=\"_blank\" rel=\"noopener\">vue-devtools</a></li>\n      <li><a href=\"https://vue-loader.vuejs.org\" target=\"_blank\" rel=\"noopener\">vue-loader</a></li>\n      <li><a href=\"https://github.com/vuejs/awesome-vue\" target=\"_blank\" rel=\"noopener\">awesome-vue</a></li>\n    </ul>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nexport default {\n  name: \"HelloWorld\",\n  props: {\n    msg: String,\n  },\n  data() {\n    return {\n      response: [],\n      errors: [],\n      file:\"\",\n      res:[]\n    };\n  },\n  methods: {\n callRestService() {\n      axios\n        .get(`images`)\n        .then((response) => {\n          // JSON responses are automatically parsed.\n          this.res= response.data;\n        })\n        .catch((e) => {\n          this.errors.push(e);\n        });\n  },\n mounted() {\n\t  try {\n\t\t axios\n\t\t.get(`images`)\n\t\t.then((response) => {\n\t\t  // JSON responses are automatically parsed.\n\t\t  this.response = response.data;\n\t\t})\n\t\t    this.error = null;\n\t\t  } catch (error) {\n\t\t   // this.response = null;\n\t\t    this.error = error;\n\t\t  }\n},\n\ndownload(){\n  let down=document.querySelector('button');\nlet img=document.querySelector('img');\ndown.addEvenListener('click', () => {\n\tlet imgPath = img.getAttribute('src');\n\tlet fileName= getFileName(imgPath);\n\tsaveAs(imgPath,fileName);\n\t});\n  var str= document.getElementsByTagName('liste').value;\n  str.substring(str.lastIndexOf('/')+1);\n\n},\ndeleted() {\n  \tvar imageEl= document.getElementById('liste').value;\n\t  try {\n\t\t axios\n\t\t.delete(`images/`+imageEl[8])\n\t\t.then((response) => {\n\t\t  // JSON responses are automatically parsed.\n      alert(\"Image supprimer avec succès !!!, Veuillez actualiser la page Cltr+R !\")\n\t\t})\n\t\t    this.error = null;\n\t\t  } catch (error) {\n\t\t   // this.response = null;\n\t\t    this.error = error;\n\t\t  }\n},\nmselect(){\n\tvar imageEl= document.getElementById('liste').value;\n  var image= document.getElementById('val');\n  image.style.height = '350px';\n  image.style.width = '500px';\n\taxios.get(\"images/\"+imageEl[8], { responseType:\"blob\" })\n\t    .then(function (response) {\n\n\t\tvar reader = new window.FileReader();\n\t\treader.readAsDataURL(response.data); \n\t\treader.onload = function() {\n\t\t\t\t\t\t\n\t\t    var imageDataUrl = reader.result;\n\t\t    image.setAttribute(\"src\", imageDataUrl);\n\t}\n});\n},\nhandleFileUpload(){\n    this.file = this.$refs.file.files[0];\n  },\n  submitFile(){\n    var valeur = file.value; \n    let formData = new FormData();\n    var extensions = /(\\.jpg|\\.jpeg)$/i; \n    if (!extensions.exec(valeur)){\n      alert('Format de fichier non valide'); \n      file.value = ''; \n      return false; \n\t  }  \n    formData.append('file', this.file);\n    alert('Fichier ajouté');\n    axios.post( '/images',\n    formData,\n    {\n      headers: {\n          'Content-Type': 'multipart/form-data'\n      }\n    }\n  ).then(function(){\n    console.log('SUCCESS!!');\n  })\n  .catch(function(){\n    console.log('FAILURE!!');\n  });\n},\nRedirectionJavascript(){\n  document.location.href=\"/Gallery.vue\"; \n},\n}\n\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh3 {\n  margin: 40px 0 0;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n</style>\n"]}]}